<!doctype html>
<html lang="en">
	<head>
		<title>canvas testing</title>
		<meta charset="UTF-8">
		<style>
			* {
				webkit-box-sizing: border-box;
				-moz-box-sizing: border-box;
				box-sizing: border-box;
				margin: 0;
			}
			.simpleFlow {
				display: block;
				margin: 0 auto;
			}
		</style>
	</head>
	
	<body translate="no">
		
		<canvas class="simpleFlow" id="canvas" width="725" height="619" style="width: 725px; height: 619px;"></canvas>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<!-- IMPORT THE RENDER AND EFFECTS. -->
		<script src="/_static/SolarLighting/src/canvas/render.js"></script>
		<script src="/_static/SolarLighting/src/canvas/frameworkEffect.js"></script>
		<script src="/_static/SolarLighting/src/canvas/effect/solid.js"></script>
		<script src="/_static/SolarLighting/src/canvas/effect/starfield.js"></script>
		
		
		<script id="rendered-js">
			$(document).ready(function devPageReady() {
				
				// scene prep.
				// configure the html layer for the canvas element
				let canvas = jQuery('#canvas');
				canvas.width(window.innerWidth);
				canvas.attr('width', window.innerWidth);
				canvas.height(window.innerHeight);
				canvas.attr('height', window.innerHeight);
				
				let ctx = canvas[0].getContext('2d');
				
				let engine = new CanvasEngine(ctx);
				
				engine.startRender(ctx);
				
				// create the effects. 
				// let solid = new Solid(ctx, "#090010");
				let solid = new Solid(ctx, "#000");
				let stars4 = new StarField(ctx, 350, ['#78a5a3', '#444c5c', '#fab696']);
				let stars5 = new StarField(ctx, 450, ['#fab696', '#fbe3b9', '#2d334a']);
				let stars6 = new StarField(ctx, 300, ['#2d334a', '#0c9463', '#78a5a3']);
				
				stars4.updateProperty('rotation', -41)
					.updateProperty('rate', 1)
					.updateProperty('radius', 10)
					.updateProperty('sizeMin', 1)
					.updateProperty('sizeMax', 10);
				
				stars5.updateProperty('rotation', -41)
					.updateProperty('rate', 1.6)
					.updateProperty('radius', 10)
					.updateProperty('density', 14)
					.updateProperty('sizeMin', 4)
					.updateProperty('sizeMax', 10);
				
				stars6.updateProperty('rotation', -41)
					.updateProperty('rate', 2)
					.updateProperty('radius', 10)
					.updateProperty('sizeMin', 4)
					.updateProperty('sizeMax', 10);
				
				// add the effects in layer order.
				solid.draw(ctx);
				engine.addLayer(solid);
				engine.addLayer(stars4.renderAPI());
				engine.addLayer(stars5.renderAPI());
				engine.addLayer(stars6.renderAPI());
				
			});
		</script>
	</body>
</html>