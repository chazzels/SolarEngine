<!doctype html>
<html lang="en">
	<head>
		<title>canvas testing</title>
		<meta charset="UTF-8">
		<style>
			* {
				webkit-box-sizing: border-box;
				-moz-box-sizing: border-box;
				box-sizing: border-box;
				margin: 0;
			}
			body {
				overflow: hidden;
			}
			.simpleFlow {
				display: block;
				margin: 0 auto;
			}
		</style>
	</head>
	
	<body translate="no">
		
		<canvas class="simpleFlow" id="canvas" width="725" height="619" style="width: 725px; height: 619px;"></canvas>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<!-- IMPORT THE RENDER AND EFFECTS. -->
		<script src="/_static/SolarLighting/src/canvas/render.js"></script>
		<script src="/_static/SolarLighting/src/canvas/frameworkEffect.js"></script>
		<script src="/_static/SolarLighting/src/canvas/effect/solid.js"></script>
		<script src="/_static/SolarLighting/src/canvas/effect/starfield.js"></script>
		<script src="/_static/SolarLighting/src/canvas/effect/circleTunnel.js"></script>
		
		<script id="rendered-js">
			$(document).ready(function devPageReady() {
				
				// scene prep.
				// configure the html layer for the canvas element
				let canvas = jQuery('#canvas');
				canvas.width(window.innerWidth);
				canvas.attr('width', window.innerWidth);
				canvas.height(window.innerHeight);
				canvas.attr('height', window.innerHeight);
				
				let ctx = canvas[0].getContext('2d');
				
				let engine = new CanvasEngine(ctx);
				
				// create the effects. 
				// let solid = new Solid(ctx, "#090010");
				let solid = new Solid(ctx, "#000");
				let stars4 = new StarField(ctx);
				let stars5 = new StarField(ctx);
				let stars6 = new StarField(ctx);
				let circle1 = new CircleTunnel(ctx);
				
				engine.startRender(ctx);
				
				stars4.updateParameter('rotation', -41)
					.resetColors(['#78a5a3', '#444c5c', '#fab696'])
					.updateParameter('rate', 1)
					.updateParameter('radius', 10)
					.updateParameter('sizeMin', 3)
					.updateParameter('sizeMax', 10);
				
				stars5.updateParameter('rotation', -41)
					.resetColors(['#fab696', '#fbe3b9', '#2d334a'])
					.updateParameter('rate', 1.6)
					.updateParameter('radius', 10)
					.updateParameter('density', 14)
					.updateParameter('sizeMin', 4)
					.updateParameter('sizeMax', 10);
				
				stars6.updateParameter('rotation', -41)
					.resetColors(['#2d334a', '#0c9463', '#78a5a3'])
					.updateParameter('rate', 2)
					.updateParameter('count', 350)
					.updateParameter('radius', 10)
					.updateParameter('sizeMin', 2)
					.updateParameter('sizeMax', 6);
				
				circle1.updateParameter('count', 10)
					.updateParameter('count', 14)
					.updateParameter('rate', 1)
					.resetColors(['#000', '#111', '#222'])
					.resetColors(['#1d4d4f' ,'#357376', '#6ba8a9']);
					// .resetColors(['#f6d365', '#e15249', '#c83660', '#3a1f5d', '#913', '#606'])
					// .resetColors(['#2d334a', '#0c9463', '#78a5a3']);
				
				// add the effects in layer order.
				engine.addLayer(solid.renderAPI());
				engine.addLayer(circle1.renderAPI());
				engine.addLayer(stars4.renderAPI());
				// engine.addLayer(stars5.renderAPI());
				engine.addLayer(stars6.renderAPI());
				
				
			});
		</script>
	</body>
</html>